<?xml version="1.0" encoding="utf-8"?>
<Config xmlns:xi="http://www.w3.org/2001/XInclude">

    <Log level="DEBUG">/var/log/cpr_tokenizer/card_proxy_tokenizer.log</Log>
    <LogLevel>
        yb.sql: INFO,
        micro_http.worker: ERROR,
    </LogLevel>

    <!--
    <DbBackend id="card_proxy_db" type="mysql+odbc">
        <DB>card_proxy_dsn</DB>
        <User>card_proxy_user</User>
        <Pass>card_proxy_pass</Pass>
    </DbBackend>
    -->
    <DbBackend id="card_proxy_db" type="mysql+soci">
        <Host>127.0.0.1</Host>
        <Port>3306</Port>
        <DB>card_proxy_db</DB>
        <User>card_proxy_user</User>
        <Pass>card_proxy_pass</Pass>
    </DbBackend>

    <HttpListener>
        <Host>127.0.0.1</Host>
        <Port>17117</Port>
    </HttpListener>

    <KeyKeeper2>
        <URL>http://127.0.0.1:15017/key_keeper2/</URL>
        <Timeout>2500</Timeout>
    </KeyKeeper2>

    <xi:include href="key_settings.cfg.xml" />
    <!-- For testing purposes:
         key:  7B43239EDC4B27ABAC7267A8538C65B4
         kek:  N0I0MzIzOUVEQzRCMjdBQkFDNzI2N0E4NTM4QzY1QjQ=
         kek1: N0I0MzIzOUVEQzRCMjdBQg== (key_keeper)
         kek2: QUM3MjY3QTg= (config)
         kek3: NTM4QzY1QjQ= (database)
    -->

    <Dek>
        <UseCount>10</UseCount>
        <MinLimit>200</MinLimit>
    </Dek>

    <bind_card_url>http://appserv/api/bind</bind_card_url>
    <start_payment_url>http://appserv/web/payment</start_payment_url>
    <authorize_url>https://processing/api/authorize</authorize_url>
    <authorize_url_cert>/etc/card_proxy/processing-client.cer</authorize_url_cert>
    <authorize_url_key>/etc/card_proxy/processing-client.key</authorize_url_key>

</Config>

